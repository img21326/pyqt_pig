from device_class.water_device import Water

# 2a 43 31 11 00 00 00 00 00 00 00 00 00 00 96 57 23
# 2a 4e 07 1f 00 00 00 00 00 00 00 00 75 0f 7f f0 45 6e a7 04 26 46 86 ef 44 c3 80 37 21 20 23 
# READ:
# 2a 41 07 35 01 00 00 00 00 00 00 00 ea f9 99 fc 53 e9 f9 09 71 51 f1 b6 3e fd 16 ec e2 98 d3 4e 70 75 6c 01 c9 2a 6f df 2b 5c 38 50 6d ab 96 5b e8 d8 1f d8 23
# 2a 43 32 2f 01 00 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 01 00 00 01 42 05 10 00 00 00 00 00 00 00 00 00 80 da 70 11 23  
# 2a 4e 07 39 01 00 00 00 00 00 41 00 46 12 15 26 5e a0 1d c3 bb b1 f3 61 87 6a ee 12 09 83 67 09 d1 f8 04 31 05 5a 83 32 7d 54 08 31 09 35 7d 36 b4 0e 4a d7 e7 b2 a6 5a 23
# READ:
# 2a 41 07 17 01 00 00 00 00 00 00 00 46 2c 23 e3 d9 dd 3d b2 4c 2b 23

init_cmd = [
    [0x2a,0x43 ,0x31 ,0x11 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x96 ,0x57 ,0x23],
    [0x2a ,0x4e ,0x07 ,0x1f ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x75 ,0x0f ,0x7f ,0xf0 ,0x45 ,0x6e ,0xa7 ,0x04 ,0x26 ,0x46 ,0x86 ,0xef ,0x44 ,0xc3 ,0x80 ,0x37 ,0x21 ,0x20 ,0x23],
    [0x2a ,0x43 ,0x32 ,0x2f ,0x01 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x01 ,0x00 ,0x00 ,0x01 ,0x42 ,0x05 ,0x10 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x80, 0xda,0x70 ,0x11, 0x23] ,
    [0x2a ,0x4e ,0x07, 0x39 ,0x01 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x41 ,0x00 ,0x46 ,0x12 ,0x15 ,0x26 ,0x5e ,0xa0 ,0x1d ,0xc3 ,0xbb ,0xb1 ,0xf3 ,0x61,0x87 ,0x6a ,0xee ,0x12 ,0x09 ,0x83 ,0x67 ,0x09 ,0xd1 ,0xf8 ,0x04 ,0x31 ,0x05 ,0x5a ,0x83 ,0x32 ,0x7d ,0x54 ,0x08 ,0x31 ,0x09 ,0x35 ,0x7d ,0x36 ,0xb4 ,0x0e ,0x4a ,0xd7 ,0xe7 ,0xb2 ,0xa6 ,0x5a ,0x23],
]

if __name__ == "__main__":
    import sys
    import time
    try:
        com = sys.argv[1]
    except:
        com = None
    water = Water(ip='', port='', com=com)
    water.connect_serial()
    for cmd in init_cmd:
        water.serial.write(cmd)
        time.sleep(3)
    print('success')